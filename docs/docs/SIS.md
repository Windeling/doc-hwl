# 学生信息查询系统使用文档

## 介绍

学生信息查询系统（Student Information System，简称SIS）是一个基于网页的应用程序，专门设计用于查询学生的详细信息，包括基本个人信息、班级归属以及考试成绩等内容。该系统支持通过姓名或特定代码进行查询，并内置认证机制来确保数据的安全性与隐私保护。查询结果采用卡片式布局呈现，便于用户交互式查看更多细节。

**重要提示**：
- 在开始使用前，请仔细阅读本使用文档，以确保正确操作。
- 系统中的数据来源于学校内部信息，仅限授权用户访问。请严格尊重用户隐私，不得将数据用于任何非法目的。
- 如果在使用过程中遇到问题，请先检查您的网络连接是否稳定，或尝试刷新页面以解决问题。

## 用户认证

1. **进入系统**：打开网页后，您将首先看到认证界面，该界面用于验证您的访问权限。
2. **输入认证代码**：在系统提供的多个输入框中输入您的身份验证代码，每个输入框仅接受一个字符（可以是字母或数字，输入的字母会自动转换为大写形式）。
   - 输入过程中，系统会自动将焦点跳转到下一个输入框，便于连续输入。
   - 如果需要修正输入，按下回退键（Backspace）即可返回到上一个输入框进行修改。
   - 输入完成后，系统会自动启动验证过程，无需额外点击。
3. **验证判定**：
   - 如果验证成功，您将被引导进入搜索界面，可以开始查询操作。
   - 如果验证失败，输入框的边框会变为红色以示警告，请重新输入正确的代码，或联系管理员获取有效的认证代码。

**提示**：认证代码由管理员提供，用于严格控制访问权限，确保只有授权人员可以使用系统。

### 身份验证代码的获取方法

身份验证代码需要在QQ频道`hwl20090511`中通过特定格式进行申请。以下是详细的申请流程：

- **申请准备**：申请人需要先设定一个8位密钥，该密钥必须同时包含字母和数字（密钥本身的所有字母必须为大写形式）。然后，通过频道首页下方的MD5小程序对该密钥进行加密。注意：转换后的MD5字符串中的字母必须全部为小写形式。该MD5代码即为您的唯一身份代码。

- **普通账户申请**：
  在账号申请页面创建一个新帖子，并按照以下格式替换括号内容。请不要在本文下方评论以申请；正确的方法是发帖并点赞本帖子，以通知管理员（QQ频道仅发帖不会自动通知）。我们会及时审核您的申请，并将其汇入到数据库中。当操作完成时，我们会通过评论通知您。为了安全，我们暂时禁用了普通账户的户籍地和精确地域查询权限。如果您需要用于研究等科研用途，请提出特殊权限申请。需要注意的是，特殊权限申请需要具有普通账户；如果您没有普通账户，请您发送两份申请。否则，出于安全考虑，我们会一并拒绝您的合并申请。

  ```
  [普通账户申请]
  申请昵称：（展示于登入后界面，不要求实名）
  MD5：（填写你的加密后MD5字符串，较长）
  ```

- **特殊权限申请**：
  在账号申请页面创建一个新帖子，并按照以下格式替换括号内容。出于安全考虑，我们不公布隐藏的权限。请您根据您的需求提出，经过管理员商议后，我们会尽可能提供我们具有的权限，并在评论区回复您。需要注意的是，您的验证代码可能有泄露的风险。因此，一旦您申请特殊权限，就必须更改您的MD5代码。

  ```
  [特殊权限申请]
  原MD5代码：
  新MD5代码：
  申请理由：
  申请权限项目：
  ```

- **账户安全申请**（用于重置身份验证代码）：
  如果您觉得您的身份代码已经泄露，请立即在账号申请页面创建一个新帖子，并按照以下格式提交重置申请，以轮换身份验证代码。短暂暴露您的MD5代码并无大碍。按计算机每毫秒校验一次MD5值计算，解算出8位大写字母和数字的混合身份代码的时间约为89年。MD5是一种摘要算法，只能进行单向计算，无法从算法上反推原始文本。但是若您的原始文本过于简单，例如12345678，这可能会被撞库导致身份代码泄露。

  ```
  [账户安全申请]
  原MD5代码：
  新MD5代码：
  ```

::: tip 安全提示
请确保您的密钥足够复杂，以避免潜在的安全风险。管理员会尽快处理您的申请，通常在24-48小时内回复。
:::

## 搜索功能

认证成功后，您将进入搜索界面。界面顶部设有两个标签页：**按姓名查询**（默认选中）和**代码查询**。

### 1. 按姓名查询

- **输入框**：在输入框中键入学生的姓名，该系统支持部分匹配功能，例如输入“张”即可找到所有姓名为“张”开头的学生。
- **首字母缩写**：您也可以输入学生姓名的首字母缩写进行搜索（注意，对于翘舌音如 zh、ch、sh，必须完整保留h，例如“zh”代表“张”）。
- **建议功能**：在输入过程中，系统会实时显示匹配的姓名建议列表（最多显示4个建议项）。您可以直接点击建议项来自动填充输入框并立即触发搜索。
- **搜索**：完成输入后，点击“查询”按钮或按下Enter键即可启动搜索。
- **历史记录**：输入框下方会显示最近的搜索历史记录（最多保留10条）。您可以点击历史项来快速重复之前的搜索操作。如果需要清除历史记录，请点击🗑️图标。

### 2. 代码查询

- **切换标签**：点击“代码查询”标签以切换到该模式。
- **输入框**：在输入框中键入特定的代码，系统会根据输入的长度自动显示支持的代码格式提示，帮助您正确输入。
- **支持代码类型**（提示文本会动态更新显示）：
  - **生日查询**（4/6/8位数字）：
    - 4位：表示年份，例如“2008”将查询所有2008年出生的学生。
    - 6位：表示年月，例如“0802”将查询2008年2月出生的学生。
    - 8位：表示年月日，例如“20080215”将查询2008年2月15日出生的学生。
  - **地区代码**（1-6位数字）：
    - 1位：行政大区级，例如“3”将查询华东地区的所有学生。
    - 2位：省份级，例如“44”将查询广东省的所有学生。
    - 4位：地级市级，例如“4403”将查询深圳市的所有学生。
    - 6位：区县级，例如“440303”将查询深圳市福田区的所有学生。
  - **班级代码**（5位数字）：例如“24105”将查询2024级高一5班的所有学生。（格式为级数+年级+班级）
  - **完整学号**（18位数字）：输入完整的18位学号以进行精确查询。
  - **QQ号**（9-11位数字）：输入QQ号以查询匹配的学生信息。
- **搜索**：完成输入后，点击“查询”按钮或按下Enter键即可启动搜索。

**通用提示**：
- 输入框支持自动获取焦点，并在聚焦时自动清空上一次的输入内容，便于新查询。
- 在查询过程中，系统会显示“正在查询，请稍候...”的加载提示，以告知用户操作状态。
- 如果查询无结果，系统将显示“未找到匹配的学生信息”的消息。

## 查询结果

查询结果会以玻璃卡片的形式显示在界面下方，支持显示单一学生或多个学生的结果。

### 1. 单一学生结果

- **基本信息**（以多个独立的卡片形式分开展示，根据您的权限级别决定可见内容）：
  - 姓名、性别、级数。
  - 学号、户籍地、生日。
  - 团员信息（包括职位、入团日期、团员编号、电话、民族）——仅限具有相应授权的用户可见。
  - 社团信息（包括社团名称、职位）——仅限具有相应授权的用户可见。
  - QQ信息（包括QQ号、昵称、个性签名、QID、等级、邮箱、注册时间、头像）。
  - 学生类型。
  - 照片：如果学生有可用照片，它将显示在姓名卡片的右侧位置。
- **考试成绩**（仅限具有相应授权的用户可见）：
  - 简要总结：包括各科平均分、总平均分，以及平均校次和班次。
  - 点击“详情”按钮展开更多内容：
    - 趋势图：显示校次趋势（多科目折线图）和总分&校次趋势图。
    - 考试卡片列表：每个卡片代表一次考试，点击后显示详细表格（包括分数、年级均分、相对比例、校次、班次）。
- **所在班级**：
  - 每个班级卡片显示班级名称、班级选课、班级类型（例如普通班、重点班、逐梦班或网校直播班）。
  - 点击“详情”按钮展开更多信息：包括班主任姓名、各科老师列表、同学列表（可点击查看其他学生的详细信息，按生日排序）、平均生日&差距统计、生日分布散点图（支持热区响应，点击散点可显示当月学生列表）。
- **返回**：如果是从学生列表进入的单一结果页面，会显示“返回列表”按钮，便于返回上一级。

### 2. 多个学生结果

- 显示标题为“找到X个匹配的学生”，其中X为实际匹配数量，便于用户快速了解统计数据。
- **排序**：通过下拉菜单选择排序方式，包括“按姓名”“按学号”或“按生日”。
- **学生列表**：每个列表项显示学生的姓名和学号（学号部分隐藏以保护隐私）。点击“详情”按钮可查看该学生的单一信息页面。
- **返回**：从单一学生结果页面返回时，使用“返回列表”按钮即可切换回多个结果视图。

### 3. 无结果或错误

- 无结果：系统将显示“未找到匹配的学生信息”的提示消息。
- 错误：如果您尝试查询禁止访问的学生信息，系统将显示红色的错误消息，例如“该学生信息受限，无法查询”。

## 其他功能

- **查询提示**：在初始搜索界面，会显示“请输入姓名”的占位符，以及一个支持查询示例的列表，帮助新用户快速上手。
- **响应式设计**：系统支持手机、平板等设备，布局会自动调整以适应不同屏幕大小（例如，图表支持横向滚动）。
- **隐私保护**：敏感信息（如电话、精确地址）会根据您的认证权限进行隐藏或部分显示，确保数据安全。
- **历史管理**：搜索历史记录会本地存储在您的浏览器中，便于下次使用。点击🗑️图标可完全清除历史记录。

## 注意事项

- **权限限制**：不同的认证代码对应不同的查看权限（如考试成绩、电话号码）。如果某些信息不可见，请联系管理员申请升级您的代码。
- **数据准确性**：系统信息基于最新的CSV数据文件，但可能存在轻微延迟。生日等数据可能会根据实际情况进行修正。
- **禁止查询**：某些学生的信息受到限制，如果点击无响应，即表示该信息被禁止访问。
- **性能**：对于大范围查询（如整个省份的学生），系统可能需要稍长时间处理，请耐心等待加载完成。
- **反馈**：如果发现任何bug或有改进建议，请通过文档中提供的链接提交反馈。

如果您在使用过程中有任何疑问，欢迎咨询管理员。祝您使用愉快！

::: warning 注意
本系统仅供内部使用，请严格遵守隐私政策。
:::
